<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="theme-color" content="#000000" />

  <!-- PRODUCTION: use RELATIVE path so GitHub Pages project sites work -->
  <link rel="manifest" href="./manifest.json" />

  <title>ELDRITCH V2</title>

  <style>
    :root { --safe-b: env(safe-area-inset-bottom); }

    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      background: #000;
      color: #00ff00;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
      overflow: hidden;
    }

    /* Top tabs bar */
    #topbar {
      display: flex;
      gap: 6px;
      padding: 10px 10px 8px 10px;
      border-bottom: 1px solid #222;
      background: #070707;
      user-select: none;
      -webkit-user-select: none;
      flex-wrap: wrap;
    }

    .tab {
      padding: 6px 10px;
      border: 1px solid #1f1f1f;
      border-radius: 10px;
      background: #0e0e0e;
      color: #00ff00;
      font-weight: 700;
      font-size: 12px;
      letter-spacing: 0.3px;
      cursor: pointer;
      touch-action: manipulation;
    }

    .tab.active {
      background: #00ff00;
      color: #000;
      border-color: #00ff00;
    }

    /* Viewport region (app.js sets height precisely) */
    #viewport {
      height: calc(100% - 60px);
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }

    /* Scrollable content area */
    #contentScroll {
      flex: 1;
      overflow-y: auto;
      overflow-x: hidden;
      padding: 12px;
      box-sizing: border-box;
      -webkit-overflow-scrolling: touch;
    }

    /* Panels */
    .panel {
      border: 1px solid #143314;
      border-radius: 12px;
      padding: 10px;
      margin: 0 0 12px 0; /* spacing between panels */
      background: #050a05;
      box-shadow: inset 0 0 0 1px rgba(0,255,0,0.05);
    }

    .panelTitle {
      font-weight: 900;
      font-size: 12px;
      margin: 0 0 6px 0;
      opacity: 0.95;
    }

    .mono {
      white-space: pre-wrap;
      word-break: break-word;
      line-height: 1.35;
      font-size: 14px;
    }

    /* WORLD LOG lines */
    .logLine { margin: 0 0 6px 0; }

    /* Skills formatting */
    .skillSectionTitle {
      font-weight: 900;
      font-size: 12px;
      margin: 0 0 8px 0;
      opacity: 0.95;
    }

    .skillList {
      max-height: 55vh;
      overflow-y: auto;
      padding-right: 4px;
    }

    .skillItem {
      border: 1px solid #143314;
      border-radius: 10px;
      padding: 8px;
      margin: 0 0 10px 0;
      background: #030703;
      white-space: pre-wrap;
      line-height: 1.35;
      font-size: 14px;
    }

    .sectionDivider {
      height: 12px;
      margin: 10px 0 10px 0;
      border-top: 1px solid #143314;
      opacity: 0.8;
    }

    /* Input bar (WORLD only) */
    #inputBar {
      display: flex;
      align-items: flex-end;
      gap: 8px;
      padding: 10px 10px calc(10px + var(--safe-b)) 10px;
      border-top: 1px solid #222;
      background: #0a0a0a;
      box-sizing: border-box;
    }

    #input {
      flex: 1;
      resize: none;
      border: none;
      outline: none;
      background: transparent;
      color: #00ff00;
      font-size: 16px;
      line-height: 1.35;
      max-height: 160px;
      overflow-y: auto;
      padding: 0;
      margin: 0;
    }

    #sendBtn {
      border: none;
      background: #00ff00;
      color: #000;
      font-weight: 900;
      border-radius: 18px;
      padding: 10px 14px;
      min-width: 44px;
      cursor: pointer;
      touch-action: manipulation;
    }

    /* Action bar (Life jobs only; app.js will show/hide) */
    #actionBar {
      display: none;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
      padding: 10px 10px calc(10px + var(--safe-b)) 10px;
      border-top: 1px solid #222;
      background: #0a0a0a;
      box-sizing: border-box;
    }

    .actionBtn {
      flex: 1;
      border: none;
      border-radius: 14px;
      padding: 12px 10px;
      font-weight: 900;
      cursor: pointer;
      touch-action: manipulation;
    }

    #cancelBtn { background: #222; color: #00ff00; border: 1px solid #143314; }
    #execBtn { background: #00ff00; color: #000; }
  </style>
</head>

<body>
  <!-- TOP TABS -->
  <div id="topbar">
    <button class="tab active" data-tab="WORLD">WORLD</button>
    <button class="tab" data-tab="STATUS">STATUS</button>
    <button class="tab" data-tab="INVENTORY">INVENTORY</button>
    <button class="tab" data-tab="SKILLS">SKILLS</button>
    <button class="tab" data-tab="MAPS">MAPS</button>
    <button class="tab" data-tab="NPC">NPC</button>

    <!-- Life Jobs (hidden by app.js until unlocked) -->
    <button class="tab" data-tab="LIFEJOB1">LIFE JOB 1</button>
    <button class="tab" data-tab="LIFEJOB2">LIFE JOB 2</button>
  </div>

  <!-- VIEWPORT -->
  <div id="viewport">
    <div id="contentScroll"></div>
  </div>

  <!-- INPUT BAR (WORLD) -->
  <div id="inputBar">
    <textarea id="input" rows="1" placeholder="Type command..."></textarea>
    <button id="sendBtn" aria-label="Send">↑</button>
  </div>

  <!-- ACTION BAR (Life Job contexts) -->
  <div id="actionBar">
    <button id="cancelBtn" class="actionBtn">Cancel</button>
    <button id="execBtn" class="actionBtn">Execute</button>
  </div>

  <!-- App -->
  <script src="./app.js"></script>
</body>
</html>
```0